# 矩阵乘法

本文试图梳理一下在线性代数的范畴内向量与向量的乘法、矩阵与向量的乘法、矩阵与矩阵的乘法的数学含义是如何由一个人为定义的起点自然地发展起来的。

## 动机

Gilbert Strang在其著作《Introduction to Linear Algebra》中说道：“线性代数的核心问题就是求解线性方程组。”对于一个线
性方程组，例如
$$
\begin{cases}
  2x + y - z = 3 \\
  5x - 2y + 3z = 0 \\
  x - y + 4z = 2
\end{cases}
$$

我们定义矩阵和列向量的乘法，将上式等价表示为
$$
\begin{bmatrix}
  2 & 1 & -1 \\
  5 & -2 & 3 \\
  1 & -1 & 4
\end{bmatrix}
\begin{bmatrix}
  x \\
  y \\
  z
\end{bmatrix} = 
\begin{bmatrix}
  3 \\
  0 \\
  2
\end{bmatrix}
$$

即
$$
Ax = b
$$

## 起点

在我看来，在解决这个核心问题时，我们只需要一个定义：当一个行向量的列数与一个列向量的行数相等时，它们可以相乘，且等价于向量的点乘。

这个定义给出了一个线性方程的向量表示。例如
$$
2x + y - z = 3 \Leftrightarrow 
\begin{bmatrix}
  2 & 1 & -1
\end{bmatrix}
\begin{bmatrix}
  x \\
  y \\
  z
\end{bmatrix} = 3
$$

我认为这是一个人为定义而不是逻辑推导出的结果，原因是以上定义并不是必然的，我们可以利用不同的定义实现同样的数学意义。例如，我们可以定义一个列向量与一个行向量相乘
等价于向量的点乘，这样同样可以给出一个线性方程的向量表示，只是其形式会与上述不同。

在我看来，这个定义是一个起点，我们可以从这个起点出发，通过逻辑推导的方式，在解决核心问题的同时，发展出一个完整而且含义丰富的矩阵（向量）乘法体系。

## 线性方程组的表示

仅凭上一节中的定义还不足以让我们重新表示一个线性方程组。我们需要考虑如何从线性方程的向量表示扩展到线性方程组的表示。

如果按照行的方式来理解线性方程组，则它表示同一组未知数与不同的系数的线性组合得到不同的结果。根据上一节中的定义，同一组未知数组成一个列向量，而不同的系数代表不同
的行向量。那么我们用向量的语言来重新表述这一理解应为：多个行向量与同一个列向量相乘得到多个结果（这里变换了两个相乘元素的顺序是为了符合上一节定义中行向量与列向量
相乘的顺序）。自然地，我们希望将多个行向量表示成一个整体，与列向量相乘，那么这样的乘式表达的就是一个线性方程组（更确切地说是一个线性方程组的左侧）。对于多个行向
量，一个自然的组织方式是将它们按行叠放在一起，这就组成了一个矩阵，也就是系数矩阵。这种表示方式也符合线性方程组的直观，因为常见的表示线性方程组的方法也是将多个线
性方程按行叠放在一起。

处理完线性方程组等号的左侧，接下来是等号的右侧，也就是各个线性方程的结果。由于我们只是发展一种新的表示线性方程组的方法，而不改变线性方程组的数学意义，这里我想强
调的是线性方程组内每个线性方程是一个离散的元素。因此，在向量表示中，我们不可能对各个线性方程的结果做任何运算，只是将各个结果按照一定方式组织起来，以保持其与线性
方程对应的离散性。我们似乎有两个选择：
1. 将各个线性方程的结果按照系数矩阵中系数（行向量）的顺序组成一个列向量。
2. 将各个线性方程的结果按照系数矩阵中系数（行向量）的顺序组成一个行向量。

由第一节中的例子可知我们选择了第一种来发展矩阵乘法的体系。当然，第一种选择符合线性方程组的直观，就像系数矩阵一样。但我想指出，第一种选择是一种逻辑上的必然，因为
第二种选择与矩阵乘法的结合律性质存在矛盾。考虑如下情形：

假设我们遵循上述第二种选择。设$A$是一个$3 \times 3$的矩阵，$x$是一个$3 \times 1$的列向量，则$Ax = b$是一个$1 \times 3$的行向量。那么
$$
A x x = (A x) x = b x = c
$$
其结果是一个数。

但如果我们采用不同的运算顺序
$$
A x x = A (x x)
$$
这个运算无法进行，因为当一个列向量与一个列向量相乘时，由上述定义，我们只能把乘式左侧的列向量理解为多个列数为1的行向量组成的矩阵，则行向量的列数与列向量的行数不
相等，无法进行乘法运算。因此，在这个假设下，矩阵乘法的结合律性质不成立。